<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é±¼ç›†è¶‹åŠ¿æ¨¡å‹v2.0 - {{ date }}</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>é±¼ç›†è¶‹åŠ¿æ¨¡å‹v2.0ã€€æ—¥æœŸï¼š{{ date }}</h1>
            <div class="update-type">æ›´æ–°æ—¶é—´ï¼š{{ update_time }}</div>
            <div class="schedule-info">å®šæ—¶æ›´æ–°ï¼šæ—©é—´ 06:00 | æ™šé—´ 18:00</div>
        </div>
        
        <p class="disclaimer">æ•°æ®ä»…ä¾›å¸‚åœºé£æ ¼è¶‹åŠ¿åˆ†æï¼Œä¸æä¾›æŠ•èµ„å»ºè®®</p>
        
        <!-- å¤šç©ºPKä»ªè¡¨ç›˜ -->
        <div class="bull-bear-dashboard">
            <div class="bull-bear-bar">
                <div class="bar-labels">
                    <span class="bear-label">ç©ºå¤´ {{ bear_ratio }}%</span>
                    <span class="vs">VS</span>
                    <span class="bull-label">{{ bull_ratio }}% å¤šå¤´</span>
                </div>
                <div class="bar-container">
                    <div class="bear-section" style="width: {{ bear_ratio }}%"></div>
                    <div class="bull-section" style="width: {{ bull_ratio }}%"></div>
                </div>
            </div>
        </div>
        
        <!-- å¯¼èˆªé“¾æ¥ -->
        <div class="nav-links">
            <a href="archive/index.html">ğŸ“ å†å²å½’æ¡£</a>
        </div>
        
        <!-- ä¸»è¦æŒ‡æ•°æ¨¡å— -->
        <h2 class="module-title">ä¸»è¦æŒ‡æ•°</h2>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>è¶‹åŠ¿å¼ºåº¦</th>
                        <th>ä»£ç </th>
                        <th>åç§°</th>
                        <th>çŠ¶æ€</th>
                        <th>æ¶¨å¹…%</th>
                        <th>ç°ä»·</th>
                        <th>ä¸´ç•Œå€¼ç‚¹</th>
                        <th>åç¦»ç‡</th>
                        <th>çŠ¶æ€è½¬å˜æ—¶é—´</th>
                        <th>åŒºé—´æ¶¨å¹…%</th>
                        <th>èµ°åŠ¿</th>
                        <th>å¤§å‘¨æœŸçŠ¶æ€ <span class="tooltip-wrapper"><span class="tooltip-icon">?</span><span class="tooltip-text">å‘¨æœˆå‘¨æœŸä¸‹ä¸´ç•Œå€¼çŠ¶æ€</span></span></th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in major_indices %}
                    <tr>
                        <td>{{ item.rank }}</td>
                        <td>{{ item.code }}</td>
                        <td>{{ item.name }}</td>
                        {% if item.error %}
                        <td class="status-error" colspan="9">{{ item.error }}</td>
                        {% else %}
                        <td class="{{ 'status-yes' if item.status == 'YES' else 'status-no' }}{% if item.status_change %} pulse{% endif %}">
                            {{ item.status }}
                            {% if item.status_change == 'new_breakthrough' %} ğŸ”¼{% endif %}
                            {% if item.status_change == 'new_breakdown' %} ğŸ”½{% endif %}
                        </td>
                        <td class="{{ 'change-positive' if item.change >= 0 else 'change-negative' }}">{{ '%+.2f'|format(item.change) }}%</td>
                        <td>{{ '%.2f'|format(item.current_price) }}</td>
                        <td>{{ '%.2f'|format(item.ma20) }}</td>
                        <td class="{{ 'change-positive' if item.deviation >= 0 else 'change-negative' }}">{{ '%.2f'|format(item.deviation) }}%</td>
                        <td>{{ item.change_date_str if item.change_date_str else 'æœªæŸ¥è¯¢åˆ°' }}</td>
                        <td class="{{ 'change-positive' if item.interval_change and item.interval_change >= 0 else 'change-negative' }}">
                            {% if item.interval_change is not none %}
                            {{ '%.2f'|format(item.interval_change) }}%
                            {% else %}
                            -
                            {% endif %}
                        </td>
                        <td class="sparkline-cell">{{ item.sparkline_svg|safe }}</td>
                        <td>
                            {% set parts = item.big_cycle_status.split('-') %}
                            <span class="{{ 'status-yes' if parts[0] == 'YES' else ('status-no' if parts[0] == 'NO' else '') }}">{{ parts[0] }}</span>-<span class="{{ 'status-yes' if parts[1] == 'YES' else ('status-no' if parts[1] == 'NO' else '') }}">{{ parts[1] }}</span>
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        <!-- æ¿å—è½®åŠ¨æ¨¡å— -->
        <h2 class="module-title">æ¿å—è½®åŠ¨æ•°æ®ã€€æ—¥æœŸï¼š{{ date }}</h2>
        <p class="disclaimer">æ•°æ®ä»…ä¾›å¸‚åœºæ¿å—è¶‹åŠ¿åˆ†æï¼Œä¸æä¾›æŠ•èµ„å»ºè®®</p>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>è¶‹åŠ¿å¼ºåº¦</th>
                        <th>ä»£ç </th>
                        <th>åç§°</th>
                        <th>çŠ¶æ€</th>
                        <th>æ¶¨å¹…%</th>
                        <th>ç°ä»·</th>
                        <th>ä¸´ç•Œå€¼ç‚¹</th>
                        <th>åç¦»ç‡</th>
                        <th>çŠ¶æ€è½¬å˜æ—¶é—´</th>
                        <th>åŒºé—´æ¶¨å¹…%</th>
                        <th>èµ°åŠ¿</th>
                        <th>å¤§å‘¨æœŸçŠ¶æ€ <span class="tooltip-wrapper"><span class="tooltip-icon">?</span><span class="tooltip-text">å‘¨æœˆå‘¨æœŸä¸‹ä¸´ç•Œå€¼çŠ¶æ€</span></span></th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in sector_indices %}
                    <tr>
                        <td>{{ item.rank }}</td>
                        <td>{{ item.code }}</td>
                        <td>{{ item.name }}</td>
                        {% if item.error %}
                        <td class="status-error" colspan="9">{{ item.error }}</td>
                        {% else %}
                        <td class="{{ 'status-yes' if item.status == 'YES' else 'status-no' }}{% if item.status_change %} pulse{% endif %}">
                            {{ item.status }}
                            {% if item.status_change == 'new_breakthrough' %} ğŸ”¼{% endif %}
                            {% if item.status_change == 'new_breakdown' %} ğŸ”½{% endif %}
                        </td>
                        <td class="{{ 'change-positive' if item.change >= 0 else 'change-negative' }}">{{ '%+.2f'|format(item.change) }}%</td>
                        <td>{{ '%.2f'|format(item.current_price) }}</td>
                        <td>{{ '%.2f'|format(item.ma20) }}</td>
                        <td class="{{ 'change-positive' if item.deviation >= 0 else 'change-negative' }}">{{ '%.2f'|format(item.deviation) }}%</td>
                        <td>{{ item.change_date_str if item.change_date_str else 'æœªæŸ¥è¯¢åˆ°' }}</td>
                        <td class="{{ 'change-positive' if item.interval_change and item.interval_change >= 0 else 'change-negative' }}">
                            {% if item.interval_change is not none %}
                            {{ '%.2f'|format(item.interval_change) }}%
                            {% else %}
                            -
                            {% endif %}
                        </td>
                        <td class="sparkline-cell">{{ item.sparkline_svg|safe }}</td>
                        <td>
                            {% set parts = item.big_cycle_status.split('-') %}
                            <span class="{{ 'status-yes' if parts[0] == 'YES' else ('status-no' if parts[0] == 'NO' else '') }}">{{ parts[0] }}</span>-<span class="{{ 'status-yes' if parts[1] == 'YES' else ('status-no' if parts[1] == 'NO' else '') }}">{{ parts[1] }}</span>
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        <!-- é¡µè„š -->
        <div class="footer">
            <p>Powered by AkShare | æ•°æ®æ›´æ–°æ—¶é—´ï¼š{{ update_time }}</p>
        </div>
    </div>
</body>
</html>
