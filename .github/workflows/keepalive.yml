name: Keep Alive Repo

on:
  schedule:
    # 北京时间每 45 天运行一次（每个月 1 号和下下个月 15 号，大约 45 天）
    # 或者简单点：每 45 天的午夜执行一次
    - cron: '0 0 */45 * *'
  workflow_dispatch: # 方便你手动测试

jobs:
  keepalive:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
      - name: Keepalive Workflow
        # 使用社区广泛认可的 Action，它会通过自动创建/删除一个 dummy 提交来重置 60 天期限
        uses: gautamkrishnar/keepalive-workflow@v2
        with:
          use_api: true # 优先使用 API 方式，更干净